<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chatbot de Jose</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: #eef2f3;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
}
header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    max-width: 600px;
    padding: 10px 20px;
    background-color: #ffffff;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    position: sticky;
    top: 0;
    z-index: 10;
}
header h1 {
    margin: 0;
    font-size: 1.2rem;
}
header div {
    display: flex;
    gap: 10px;
    align-items: center;
}
#chat-container {
    width: 100%;
    max-width: 600px;
    height: 400px;
    margin: 10px 0;
    background-color: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    display: flex;
    flex-direction: column;
    overflow-y: auto;
}
.bot-message, .user-message {
    display: flex;
    align-items: flex-start;
    margin: 10px 0;
    animation: fadeIn 0.4s ease-in;
}
.avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin-right: 10px;
}
.bubble {
    padding: 10px 14px;
    border-radius: 12px;
    max-width: 80%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}
.bot-message .bubble { background-color: #e0e0e0; color: #333; }
.user-message { flex-direction: row-reverse; }
.user-message .avatar { margin-left: 10px; margin-right: 0; }
.user-message .bubble { background-color: #cce5ff; color: #003366; text-align: right; }

#input-area {
    display: flex;
    justify-content: center;
    width: 100%;
    max-width: 600px;
    margin-bottom: 20px;
}
#user-input {
    flex: 1;
    padding: 10px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 6px;
}
#send-button {
    padding: 10px 20px;
    margin-left: 10px;
    font-size: 16px;
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 6px;
    cursor: pointer;
}

.buttons-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
    align-items: center;
}
.bot-button {
    background-color: #a3d9a5;
    color: #2d4b2d;
    padding: 10px 14px;
    font-size: 14px;
    border: 1px solid #8fcf90;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
    max-width: 300px;
    text-align: left;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    transition: background-color 0.3s ease;
}
.bot-button:hover { background-color: #92c89b; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Switch estilo toggle */
.switch {
  position: relative;
  display: inline-block;
  width: 50px;
  height: 26px;
}
.switch input { display: none; }
.slider {
  position: absolute;
  cursor: pointer;
  top: 0; left: 0; right: 0; bottom: 0;
  background-color: #ccc;
  border-radius: 26px;
  transition: 0.4s;
}
.slider:before {
  position: absolute;
  content: "";
  height: 20px; width: 20px;
  left: 3px;
  bottom: 3px;
  background-color: white;
  border-radius: 50%;
  transition: 0.4s;
}
input:checked + .slider {
  background-color: #007bff;
}
input:checked + .slider:before {
  transform: translateX(24px);
}
</style>
</head>
<body>

<header>
    <h1>Chatbot</h1>
    <div>
        <label class="switch">
            <input type="checkbox" id="lang-switch">
            <span class="slider"></span>
        </label>
        <button id="restart">Reiniciar</button>
    </div>
</header>

<div id="chat-container"></div>

<div id="input-area">
    <input type="text" id="user-input" placeholder="Escribe tu respuesta aqu√≠...">
    <button id="send-button">Enviar</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const chatContainer = document.getElementById("chat-container");
    let lang = 'es';

    const texts = {
        es: {
            greeting: "üëã ¬°Hola! Soy el asistente de Jose Carlos, dise√±ador senior UX/UI. ¬øEn qu√© te gustar√≠a enfocarte hoy?",
            casesIntro: "Aqu√≠ tienes algunos proyectos donde resolv√≠ problemas reales con dise√±o centrado en el usuario. ¬øCu√°l te interesa?",
            buttons: [
                { text: "üé® Casos de estudio", action: "showCases" },
                { text: "üë§ Sobre m√≠", url: "https://uxfol.io/p/josecarlos-design/about" },
                { text: "üìÑ Descargar CV", url: "https://uxfol.io/p/josecarlos-design/cv" },
                { text: "‚úâÔ∏è Contacto", url: "https://uxfol.io/p/josecarlos-design/contact" },
                { text: "üìù Blog", url: "https://uxfol.io/p/josecarlos-design/blog" }
            ],
            cases: [
                { text: "üß™ Caso 1: Redise√±o de app m√©dica", url: "https://uxfol.io/p/josecarlos-design/caso1" },
                { text: "üõçÔ∏è Caso 2: Optimizaci√≥n UX para e-commerce", url: "https://uxfol.io/p/josecarlos-design/caso2" },
                { text: "üì± Caso 3: Dise√±o de app de bienestar", url: "https://uxfol.io/p/josecarlos-design/caso3" },
                { text: "üåç Caso 4: Plataforma educativa inclusiva", url: "https://uxfol.io/p/josecarlos-design/caso4" },
                { text: "üîç Ver todos los casos juntos", url: "https://uxfol.io/p/josecarlos-design" }
            ]
        },
        en: {
            greeting: "üëã Hi! I'm Jose Carlos's assistant, senior UX/UI designer. What would you like to focus on today?",
            casesIntro: "Here are some projects where I solved real problems with user-centered design. Which one interests you?",
            buttons: [
                { text: "üé® Case studies", action: "showCases" },
                { text: "üë§ About me", url: "https://uxfol.io/p/josecarlos-design/about" },
                { text: "üìÑ Download CV", url: "https://uxfol.io/p/josecarlos-design/cv" },
                { text: "‚úâÔ∏è Contact", url: "https://uxfol.io/p/josecarlos-design/contact" },
                { text: "üìù Blog", url: "https://uxfol.io/p/josecarlos-design/blog" }
            ],
            cases: [
                { text: "üß™ Case 1: Medical app redesign", url: "https://uxfol.io/p/josecarlos-design/caso1" },
                { text: "üõçÔ∏è Case 2: UX optimization for e-commerce", url: "https://uxfol.io/p/josecarlos-design/caso2" },
                { text: "üì± Case 3: Wellness app design", url: "https://uxfol.io/p/josecarlos-design/caso3" },
                { text: "üåç Case 4: Inclusive educational platform", url: "https://uxfol.io/p/josecarlos-design/caso4" },
                { text: "üîç View all cases", url: "https://uxfol.io/p/josecarlos-design" }
            ]
        }
    };

    function addMessage(sender, text) {
        return new Promise(resolve => {
            const msg = document.createElement("div");
            msg.classList.add(sender === "bot" ? "bot-message" : "user-message");
            msg.innerHTML = `<div class="avatar"><img src="${sender==='bot'?'https://i.ibb.co/ZV6vG1H/bot.png':'https://i.ibb.co/ypkgK0X/user.png'}" alt="avatar"></div>
                             <div class="bubble">${text}</div>`;
            chatContainer.appendChild(msg);
            chatContainer.scrollTop = chatContainer.scrollHeight;
            setTimeout(resolve, 300);
        });
    }

    function showButtons(buttons) {
        const container = document.createElement("div");
        container.classList.add("buttons-container");
        buttons.forEach(b => {
            const btn = document.createElement("button");
            btn.classList.add("bot-button");
            btn.textContent = b.text;
            if (b.url) {
                btn.onclick = () => window.open(b.url, "_blank");
            } else if (b.action === "showCases") {
                btn.onclick = async () => {
                    await addMessage("bot", texts[lang].casesIntro);
                    container.remove();
                    showButtons(texts[lang].cases);
                }
            }
            container.appendChild(btn);
        });
        chatContainer.appendChild(container);
        chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    // Mostrar primer mensaje y botones
    addMessage("bot", texts[lang].greeting).then(() => showButtons(texts[lang].buttons));

    document.getElementById("restart").addEventListener("click", () => {
        chatContainer.innerHTML = "";
        addMessage("bot", texts[lang].greeting).then(() => showButtons(texts[lang].buttons));
    });

    document.getElementById("lang-switch").addEventListener("change", () => {
        lang = document.getElementById("lang-switch").checked ? 'en' : 'es';
        // Reinicia chat con el nuevo idioma
        chatContainer.innerHTML = "";
        addMessage("bot", texts[lang].greeting).then(() => showButtons(texts[lang].buttons));
    });

    document.getElementById("send-button").addEventListener("click", async () => {
        const input = document.getElementById("user-input");
        const text = input.value.trim();
        if (text === "") return;
        input.value = "";
        await addMessage("user", text);
        await addMessage("bot", "ü§î Gracias por tu mensaje. Aqu√≠ podr√≠amos responder din√°micamente...");
    });
});
</script>

</body>
</html>
