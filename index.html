<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Chatbot de Jose</title>
<style>
body {
    font-family: 'Segoe UI', sans-serif;
    background: linear-gradient(to right, #eef2f3, #d9e4ff);
    margin: 0;
    padding: 0;
}
#header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 20px;
    background: #f5f5f5;
    border-bottom: 1px solid #ddd;
}
#header h1 { margin: 0; font-size: 1.5em; }
#header button { margin-left: 10px; padding: 6px 12px; font-size: 14px; cursor: pointer; }

#chat-container {
    width: 100%;
    max-width: 600px;
    margin: 20px auto;
    background-color: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    overflow-y: auto;
    height: 400px;
    display: flex;
    flex-direction: column;
}
.bot-message, .user-message {
    display: flex;
    align-items: flex-start;
    margin: 10px 0;
    animation: fadeIn 0.4s ease-in;
}
.avatar {
    width: 32px;
    height: 32px;
    border-radius: 50%;
    margin-right: 10px;
}
.bubble {
    padding: 10px 14px;
    border-radius: 12px;
    max-width: 80%;
    box-shadow: 0 2px 6px rgba(0,0,0,0.05);
}
.bot-message .bubble { background-color: #e0e0e0; color: #333; }
.user-message { flex-direction: row-reverse; }
.user-message .avatar { margin-left: 10px; margin-right: 0; }
.user-message .bubble { background-color: #cce5ff; color: #003366; text-align: right; }

#input-area { display: flex; justify-content: center; margin: 20px auto; max-width: 600px; }
#user-input { flex: 1; padding: 10px; font-size: 16px; border: 1px solid #ccc; border-radius: 6px; }
#send-button { padding: 10px 20px; margin-left: 10px; font-size: 16px; background-color: #007bff; color: white; border: none; border-radius: 6px; cursor: pointer; }

.buttons-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 10px;
    align-items: center;
}
.bot-button {
    background-color: #a3d9a5;
    color: #2d4b2d;
    padding: 10px 14px;
    font-size: 14px;
    border: 1px solid #8fcf90;
    border-radius: 6px;
    cursor: pointer;
    width: 100%;
    max-width: 300px;
    text-align: left;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    transition: background-color 0.3s ease;
}
.bot-button:hover { background-color: #92c89b; }

@media screen and (max-width: 480px) {
    .bot-button { font-size: 13px; padding: 9px 12px; }
    #chat-container { padding: 15px; height: auto; }
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
</style>
</head>
<body>

<div id="header">
    <h1>Chatbot</h1>
    <div>
        <button id="lang-switch">EN</button>
        <button id="restart-button">ðŸ”„ Volver a empezar</button>
    </div>
</div>

<div id="chat-container"></div>

<div id="input-area">
    <input type="text" id="user-input" placeholder="Escribe tu respuesta aquÃ­..." />
    <button id="send-button">Enviar</button>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const chatContainer = document.getElementById("chat-container");
    const langSwitch = document.getElementById("lang-switch");
    const restartButton = document.getElementById("restart-button");

    let lang = "es"; // idioma actual

    const texts = {
        es: {
            greeting: "ðŸ‘‹ Â¡Hola! Soy el asistente de Jose Carlos, diseÃ±ador senior UX/UI. Â¿En quÃ© te gustarÃ­a enfocarte hoy?",
            casesIntro: "AquÃ­ tienes algunos proyectos donde resolvÃ­ problemas reales con diseÃ±o centrado en el usuario. Â¿CuÃ¡l te interesa?",
            buttons: [
                { text: "ðŸŽ¨ Casos de estudio", action: "showCases" },
                { text: "ðŸ‘¤ Sobre mÃ­", url: "https://uxfol.io/p/josecarlos-design/about" },
                { text: "ðŸ“„ Descargar CV", url: "https://uxfol.io/p/josecarlos-design/cv" },
                { text: "âœ‰ï¸ Contacto", url: "https://uxfol.io/p/josecarlos-design/contact" },
                { text: "ðŸ“ Blog", url: "https://uxfol.io/p/josecarlos-design/blog" }
            ],
            cases: [
                { text: "ðŸ§ª Caso 1: RediseÃ±o de app mÃ©dica", url: "https://uxfol.io/p/josecarlos-design/caso1" },
                { text: "ðŸ›ï¸ Caso 2: OptimizaciÃ³n UX para e-commerce", url: "https://uxfol.io/p/josecarlos-design/caso2" },
                { text: "ðŸ“± Caso 3: DiseÃ±o de app de bienestar", url: "https://uxfol.io/p/josecarlos-design/caso3" },
                { text: "ðŸŒ Caso 4: Plataforma educativa inclusiva", url: "https://uxfol.io/p/josecarlos-design/caso4" },
                { text: "ðŸ” Ver todos los casos juntos", url: "https://uxfol.io/p/josecarlos-design" }
            ]
        },
        en: {
            greeting: "ðŸ‘‹ Hello! I'm Jose Carlos' assistant, senior UX/UI designer. What would you like to focus on today?",
            casesIntro: "Here are some projects where I solved real problems with user-centered design. Which one interests you?",
            buttons: [
                { text: "ðŸŽ¨ Case Studies", action: "showCases" },
                { text: "ðŸ‘¤ About Me", url: "https://uxfol.io/p/josecarlos-design/about" },
                { text: "ðŸ“„ Download CV", url: "https://uxfol.io/p/josecarlos-design/cv" },
                { text: "âœ‰ï¸ Contact", url: "https://uxfol.io/p/josecarlos-design/contact" },
                { text: "ðŸ“ Blog", url: "https://uxfol.io/p/josecarlos-design/blog" }
            ],
            cases: [
                { text: "ðŸ§ª Case 1: Medical App Redesign", url: "https://uxfol.io/p/josecarlos-design/caso1" },
                { text: "ðŸ›ï¸ Case 2: E-commerce UX Optimization", url: "https://uxfol.io/p/josecarlos-design/caso2" },
                { text: "ðŸ“± Case 3: Wellness App Design", url: "https://uxfol.io/p/josecarlos-design/caso3" },
                { text: "ðŸŒ Case 4: Inclusive Educational Platform", url: "https://uxfol.io/p/josecarlos-design/caso4" },
                { text: "ðŸ” View all cases together", url: "https://uxfol.io/p/josecarlos-design" }
            ]
        }
    };

    function addMessage(sender, text) {
        const message = document.createElement("div");
        message.className = sender === "bot" ? "bot-message" : "user-message";
        const avatar = document.createElement("img");
        avatar.src = sender === "bot" ? "https://cdn-icons-png.flaticon.com/512/10479/10479785.png" : "https://cdn-icons-png.flaticon.com/512/1077/1077012.png";
        avatar.className = "avatar";
        const bubble = document.createElement("div");
        bubble.className = "bubble";
        bubble.innerText = text;
        message.appendChild(avatar);
        message.appendChild(bubble);
        chatContainer.appendChild(message);
        chatContainer.scrollTop = chatContainer.scrollHeight;
        return bubble;
    }

    function showButtons(buttonsArray) {
        const buttonsContainer = document.createElement("div");
        buttonsContainer.className = "buttons-container";
        chatContainer.appendChild(buttonsContainer);
        buttonsArray.forEach((item, index) => {
            setTimeout(() => {
                const button = document.createElement("button");
                button.className = "bot-button";
                button.innerText = item.text;
                if (item.url) {
                    button.onclick = () => window.open(item.url, "_blank");
                } else if (item.action === "showCases") {
                    button.onclick = () => showCaseButtons();
                }
                buttonsContainer.appendChild(button);
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 400 * index);
        });
    }

    function showCaseButtons() {
        addMessage("bot", texts[lang].casesIntro);
        showButtons(texts[lang].cases);
    }

    function initChat() {
        chatContainer.innerHTML = "";
        addMessage("bot", texts[lang].greeting);
        showButtons(texts[lang].buttons);
    }

    langSwitch.addEventListener("click", () => {
        lang = lang === "es" ? "en" : "es";
        langSwitch.innerText = lang === "es" ? "EN" : "ES";

        // Cambia los textos existentes en el chat (solo Ãºltimo mensaje de bot y botones)
        const lastBotBubbles = chatContainer.querySelectorAll(".bot-message .bubble");
        lastBotBubbles.forEach((bubble, index) => {
            if (index === lastBotBubbles.length - 1) {
                // Cambiar texto solo si era la intro de botones
                bubble.innerText = texts[lang].greeting;
            }
        });

        // Cambiar botones existentes
        const buttonsContainers = chatContainer.querySelectorAll(".buttons-container");
        buttonsContainers.forEach(container => {
            container.querySelectorAll(".bot-button").forEach((btn, i) => {
                const newText = texts[lang].buttons[i] ? texts[lang].buttons[i].text : btn.innerText;
                btn.innerText = newText;
            });
        });
    });

    restartButton.addEventListener("click", () => {
        initChat();
    });

    initChat();
});
</script>

</body>
</html>

